version: 2

models:
  - name: bronze_customer   # Must match the SQL filename
    description: "This is the bronze layer for customer data"
    columns:
      - name: CUSTOMER_SK
        description: CUSTOMER ID of the talkdesk_activit record
        tests:
          - unique
          - not_null
      - name: CUSTOMER_CODE
        description: Salesforce ID of the talkdesk_id record
        tests:
          - unique:
              config:
                severity: error
                error_if: ">100"
                warn_if: ">0"

  - name: bronze_store
    description: "This is the bronze layer for store data"
    columns:
      - name: STORE_SK
        description: Store surrogate key
        tests:
          - unique
          - not_null
      - name: STORE_NAME
        description: Store name
  - name: bronze_factsales
    columns:
      - name: SALES_ID
        description: Store PRIMARY key
        tests:
          - unique
          - not_null
      - name: gross_amount
        description: Gross sales amount
        tests:
          - generic_non_negative